<!doctype html>
  <html lang=en>
  <head>
    <meta charset=utf-8>
    <title>candy pie playgrond</title>

    <style>
      .configOption {
        display: inline-block;
        width: 150px;
        margin: 8px;
      }
    </style>

    <script src="https://cdn.babylonjs.com/babylon.js"></script>
    <script src="./candy-pie-babylon.js"></script>

  </head>
  
  <body>
    <h3>candy pie playground</h3>

    <h4>data for the slices</h4>

    <h4>configuration</h4>

    <p class="configOption">innerRadiusPct</p>
      <input type="number" name="innerRadiusPct"  min="0" max="99" onchange="pie3d[this.name] = this.value;">
      <span>%</span>
      <br>

    <p class="configOption">spaceBetweenSlices</p>
      <label>false</label><input type="radio" name="spaceBetweenSlices" value="0" onchange="pie3d[this.name] = Boolean( Number(this.value));">
      <label>true </label><input type="radio" name="spaceBetweenSlices" value="1" onchange="pie3d[this.name] = Boolean( Number(this.value));">
      <br>

    <p class="configOption">backgroundColor</p>
      <input type="color" name="backgroundColor" value="#e66465" onchange="pie3d[this.name] = this.value;">
      <br>

    <p class="configOption">secondsPerRotation</p>
      <input type="number" name="secondsPerRotation" min="0" max="100" onchange="pie3d[this.name] = this.value;">
      <br>
    
    <p class="configOption">clickScalePct</p>
      <input type="number" name="clickScalePct" min="0" max="100" onchange="pie3d[this.name] = this.value;">
      <br>
    
    <p class="configOption">allowVerticalRotation</p>
      <label>false</label><input type="radio" name="allowVerticalRotation" value="0" onchange="pie3d[this.name] = Boolean( Number(this.value));">
      <label>true </label><input type="radio" name="allowVerticalRotation" value="1" onchange="pie3d[this.name] = Boolean( Number(this.value));">
      <br>
    
    <p class="configOption">verticalFactor</p>
      <input type="number" name="verticalFactor"  min="1" max="10" onchange="pie3d[this.name] = this.value;">
      <br>

      <p class="configOption">cameraDegreesY</p>
      <input type="number" name="cameraDegreesY"  min="0" max="90" onchange="pie3d[this.name] = this.value;">
      <ul>
        <li>0 degrees: you see a rectangle, lookin at the front surface of the slices
        <li>90 degrees: the pie becomes a circle
        </ul>
      <br>

    <h5>labels</h5>
    
    <ol>
      <li>showLabel
      <li>showHeight
      <li>labelFontFactor
      <li>labelExtraTopMargin
      <li>labelColor
    </ol>


    <button onclick="candy_pie_babylon( pie3d);">Update Candy Pie</button>
    <br><br>

    <canvas id='canvas-id' class='candy-pie-babylon-canvas'></canvas>

    <p>to do: bring in the values of the starting pie3d object</p>
    
    <script>
      let pie3d = {
        'htmlCanvasId': 'canvas-id',
        'slices': [
          { 'height': 100, 'color': 'indianred'},
          { 'height': 100, 'color': 'steelblue'},
          { 'height': 100, 'color': 'olive'}
        ],
        'spaceBetweenSlices': false,
        'innerRadiusPct': 40,
        'backgroundColor': '#d3d3d3',
        'secondsPerRotation': 3
      };
              
      candy_pie_babylon( pie3d);

      // push the pie3d values to the configuration elements above
      
      document.getElementsByName("spaceBetweenSlices")[Number(pie3d.spaceBetweenSlices)].checked = true;
      document.getElementsByName("innerRadiusPct")[0].value = pie3d.innerRadiusPct;
      document.getElementsByName("backgroundColor")[0].value = pie3d.backgroundColor;
      document.getElementsByName("secondsPerRotation")[0].value = pie3d.secondsPerRotation;
      document.getElementsByName("clickScalePct")[0].value = pie3d.clickScalePct;
      document.getElementsByName("allowVerticalRotation")[Number(pie3d.allowVerticalRotation)].checked = true;
      document.getElementsByName("verticalFactor")[0].value = pie3d.verticalFactor;
      document.getElementsByName("cameraDegreesY")[0].value = pie3d.cameraDegreesY;

    </script>
  </body>
</html>